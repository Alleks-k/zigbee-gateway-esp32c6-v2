<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Include Dependency Graph</title>
<style>
  body { font-family: Arial, sans-serif; margin: 0; background:#f6f8fb; }
  #graph { width: 100vw; height: 100vh; }
  .controls { position: fixed; top: 10px; left: 10px; z-index: 10; background:#fff;
    border:1px solid #ddd; padding:8px; border-radius:8px; }
  input { padding:4px 6px; }
</style>
</head>
<body>
<div class="controls">
  <input id="search" placeholder="filter by file..." />
</div>
<div id="graph"></div>
<script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
<script>
const data = {"nodes": [{"id": 0, "label": "main/main.c"}, {"id": 1, "label": "tests/host/core_config_service_host_test.c"}, {"id": 2, "label": "tests/host/include/esp_log.h"}, {"id": 3, "label": "tests/host/include/esp_err.h"}, {"id": 4, "label": "main/tests/self_tests.h"}, {"id": 5, "label": "main/tests/self_tests.c"}, {"id": 6, "label": "main/tests/self_tests_app_main.c"}, {"id": 7, "label": "main/tests/e2e_self_tests.c"}, {"id": 8, "label": "components/gateway_core/gateway_core_placeholder.c"}, {"id": 9, "label": "components/gateway_web/gateway_web_placeholder.c"}, {"id": 10, "label": "components/gateway_net/gateway_net_placeholder.c"}, {"id": 11, "label": "components/gateway_shared_config/gateway_shared_config_placeholder.c"}, {"id": 12, "label": "components/gateway_core_facade/src/gateway_core_facade.c"}, {"id": 13, "label": "components/gateway_core_facade/include/gateway_core_facade.h"}, {"id": 14, "label": "components/gateway_web_static/src/http_static.c"}, {"id": 15, "label": "components/gateway_web_static/src/mdns_service.c"}, {"id": 16, "label": "components/gateway_web_static/include/http_static.h"}, {"id": 17, "label": "components/gateway_web_static/include/mdns_service.h"}, {"id": 18, "label": "components/gateway_core/test/gateway_core_self_tests.c"}, {"id": 19, "label": "components/gateway_core/src/config_service.c"}, {"id": 20, "label": "components/gateway_core/src/device_service.c"}, {"id": 21, "label": "components/gateway_core/include/config_service.h"}, {"id": 22, "label": "components/gateway_core/include/gateway_types.h"}, {"id": 23, "label": "components/gateway_core/include/job_queue.h"}, {"id": 24, "label": "components/gateway_core/include/system_service.h"}, {"id": 25, "label": "components/gateway_core/include/device_service.h"}, {"id": 26, "label": "components/gateway_core/include/rcp_tool.h"}, {"id": 27, "label": "components/gateway_core/include/gateway_core_component.h"}, {"id": 28, "label": "components/gateway_core/include/zigbee_service.h"}, {"id": 29, "label": "components/gateway_core/include/gateway_events.h"}, {"id": 30, "label": "components/gateway_core/include/wifi_service.h"}, {"id": 31, "label": "components/gateway_web_ws/src/ws_manager.c"}, {"id": 32, "label": "components/gateway_web_ws/include/ws_manager.h"}, {"id": 33, "label": "components/gateway_core_events/src/gateway_events.c"}, {"id": 34, "label": "components/gateway_core_events/include/gateway_events.h"}, {"id": 35, "label": "components/gateway_core_wifi/src/wifi_service.c"}, {"id": 36, "label": "components/gateway_core_wifi/include/wifi_service.h"}, {"id": 37, "label": "components/gateway_web/test/gateway_web_self_tests.c"}, {"id": 38, "label": "components/gateway_web/src/web_server.c"}, {"id": 39, "label": "components/gateway_web/src/http_routes.c"}, {"id": 40, "label": "components/gateway_web/include/http_routes.h"}, {"id": 41, "label": "components/gateway_web/include/web_server.h"}, {"id": 42, "label": "components/gateway_web/include/gateway_web_component.h"}, {"id": 43, "label": "components/gateway_core_system/src/system_service.c"}, {"id": 44, "label": "components/gateway_core_system/src/rcp_tool.c"}, {"id": 45, "label": "components/gateway_core_system/include/system_service.h"}, {"id": 46, "label": "components/gateway_core_system/include/rcp_tool.h"}, {"id": 47, "label": "components/gateway_net/src/wifi_init.c"}, {"id": 48, "label": "components/gateway_net/src/wifi_ap_fallback.c"}, {"id": 49, "label": "components/gateway_net/src/net_platform_services.c"}, {"id": 50, "label": "components/gateway_net/src/wifi_sta.c"}, {"id": 51, "label": "components/gateway_net/include/wifi_ap_fallback.h"}, {"id": 52, "label": "components/gateway_net/include/wifi_credentials.h"}, {"id": 53, "label": "components/gateway_net/include/hostname_settings.h"}, {"id": 54, "label": "components/gateway_net/include/wifi_sta.h"}, {"id": 55, "label": "components/gateway_net/include/wifi_credentials_local.h"}, {"id": 56, "label": "components/gateway_net/include/wifi_init.h"}, {"id": 57, "label": "components/gateway_net/include/net_platform_services.h"}, {"id": 58, "label": "components/gateway_net/include/wifi_settings.h"}, {"id": 59, "label": "components/gateway_net/include/gateway_net_component.h"}, {"id": 60, "label": "components/gateway_net/include/wifi_context.h"}, {"id": 61, "label": "components/gateway_app/src/gateway_app_bootstrap.c"}, {"id": 62, "label": "components/gateway_app/src/gateway_zigbee_runtime.c"}, {"id": 63, "label": "components/gateway_app/include/gateway_zigbee_runtime.h"}, {"id": 64, "label": "components/gateway_app/include/gateway_app.h"}, {"id": 65, "label": "components/gateway_app/include/esp_zigbee_gateway.h"}, {"id": 66, "label": "components/gateway_core_zigbee/src/zigbee_selftest_shims.c"}, {"id": 67, "label": "components/gateway_core_zigbee/src/zigbee_service.c"}, {"id": 68, "label": "components/gateway_core_zigbee/include/zigbee_service.h"}, {"id": 69, "label": "components/gateway_web_api/src/api_contracts.c"}, {"id": 70, "label": "components/gateway_web_api/src/lqi_json_mapper.c"}, {"id": 71, "label": "components/gateway_web_api/src/api_handlers.c"}, {"id": 72, "label": "components/gateway_web_api/src/api_health_handlers.c"}, {"id": 73, "label": "components/gateway_web_api/src/error_ring.c"}, {"id": 74, "label": "components/gateway_web_api/src/api_usecases.c"}, {"id": 75, "label": "components/gateway_web_api/src/http_error.c"}, {"id": 76, "label": "components/gateway_web_api/src/api_status_handlers.c"}, {"id": 77, "label": "components/gateway_web_api/src/api_jobs_handlers.c"}, {"id": 78, "label": "components/gateway_web_api/include/http_error.h"}, {"id": 79, "label": "components/gateway_web_api/include/api_contracts.h"}, {"id": 80, "label": "components/gateway_web_api/include/api_handlers.h"}, {"id": 81, "label": "components/gateway_web_api/include/api_usecases.h"}, {"id": 82, "label": "components/gateway_web_api/include/error_ring.h"}, {"id": 83, "label": "components/gateway_web_api/include/lqi_json_mapper.h"}, {"id": 84, "label": "components/gateway_core_jobs/src/job_queue.c"}, {"id": 85, "label": "components/gateway_core_jobs/include/job_queue.h"}, {"id": 86, "label": "components/gateway_core_storage/test/gateway_core_storage_self_tests.c"}, {"id": 87, "label": "components/gateway_core_storage/src/storage_kv_nvs.c"}, {"id": 88, "label": "components/gateway_core_storage/src/device_repository_nvs.c"}, {"id": 89, "label": "components/gateway_core_storage/src/gateway_state.c"}, {"id": 90, "label": "components/gateway_core_storage/src/storage_partitions_nvs.c"}, {"id": 91, "label": "components/gateway_core_storage/src/config_repository_nvs.c"}, {"id": 92, "label": "components/gateway_core_storage/src/storage_schema_nvs.c"}, {"id": 93, "label": "components/gateway_core_storage/include/state_store.h"}, {"id": 94, "label": "components/gateway_core_storage/include/config_repository.h"}, {"id": 95, "label": "components/gateway_core_storage/include/device_repository.h"}, {"id": 96, "label": "components/gateway_core_storage/include/storage_schema.h"}, {"id": 97, "label": "components/gateway_core_storage/include/storage_partitions.h"}, {"id": 98, "label": "components/gateway_core_storage/include/storage_kv.h"}, {"id": 99, "label": "components/gateway_shared_config/include/gateway_shared_config.h"}, {"id": 100, "label": "components/gateway_shared_config/include/gateway_config_types.h"}, {"id": 101, "label": "components/gateway_shared_config/include/hostname_settings.h"}], "edges": [{"from": 5, "to": 4}, {"from": 6, "to": 4}, {"from": 29, "to": 22}, {"from": 51, "to": 60}, {"from": 52, "to": 55}, {"from": 54, "to": 60}, {"from": 56, "to": 60}, {"from": 81, "to": 79}, {"from": 99, "to": 100}]};
const container = document.getElementById('graph');

let nodes = new vis.DataSet(data.nodes.map(n => ({
  id: n.id, label: n.label, title: n.label
})));
let edges = new vis.DataSet(data.edges.map(e => ({
  from: e.from, to: e.to, arrows: 'to'
})));

let network = new vis.Network(container, { nodes, edges }, {
  physics: { stabilization: false },
  layout: { improvedLayout: true }
});

document.getElementById('search').addEventListener('input', (e) => {
  const q = e.target.value.trim().toLowerCase();
  nodes.forEach(n => {
    const visible = !q || n.label.toLowerCase().includes(q);
    nodes.update({ id: n.id, hidden: !visible });
  });
});
</script>
</body>
</html>